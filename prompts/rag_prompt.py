"""
RAG 시스템에 사용되는 프롬프트 템플릿
"""

from langchain_core.prompts import ChatPromptTemplate

# 기본 RAG 프롬프트 - 한국어 응답 강조
DEFAULT_RAG_PROMPT = ChatPromptTemplate.from_template("""
시스템: 당신은 한국어 AI 어시스턴트입니다. 모든 질문에 반드시 한국어로만 답변해야 합니다. 
영어로 답변하는 것은 심각한 오류입니다. 영어 대신 한국어 대체 단어를 사용하고, 전체 답변을 100% 한국어로만 작성하세요.
이것은 절대적인 규칙입니다.

다음 질문에 답변해주세요. 제공된 컨텍스트만 사용하고, 컨텍스트에 없는 정보는 사용하지 마세요.

컨텍스트:
{context}

질문: {question}

답변(반드시 한국어로만 작성):
""")

# 전문가 모드 프롬프트 - 학술적/기술적 응답
EXPERT_RAG_PROMPT = ChatPromptTemplate.from_template("""
시스템: 당신은 한국어 AI 어시스턴트입니다. 모든 질문에 반드시 한국어로만 답변해야 합니다. 
영어로 답변하는 것은 심각한 오류입니다. 영어 대신 한국어 대체 단어를 사용하고, 전체 답변을 100% 한국어로만 작성하세요.
이것은 절대적인 규칙입니다.

당신은 주제 분야의 전문가입니다. 전문 용어를 정확하게 사용하고 깊이 있는 분석을 제공하세요.

다음 질문에 답변해주세요. 제공된 컨텍스트만 사용하고, 컨텍스트에 없는 정보는 사용하지 마세요.

컨텍스트:
{context}

질문: {question}

답변(반드시 한국어로만 작성):
""")

# 간결한 요약 프롬프트 - 짧고 명확한 답변
CONCISE_RAG_PROMPT = ChatPromptTemplate.from_template("""
시스템: 당신은 한국어 AI 어시스턴트입니다. 모든 질문에 반드시 한국어로만 답변해야 합니다. 
영어로 답변하는 것은 심각한 오류입니다. 영어 대신 한국어 대체 단어를 사용하고, 전체 답변을 100% 한국어로만 작성하세요.
이것은 절대적인 규칙입니다.

짧고 간결하게 핵심만 답변하세요. 3문장 이내로 요약하세요.

다음 질문에 답변해주세요. 제공된 컨텍스트만 사용하고, 컨텍스트에 없는 정보는 사용하지 마세요.

컨텍스트:
{context}

질문: {question}

답변(반드시 한국어로만 작성):
""")

# 사용자 정의 프롬프트 생성 함수
def create_custom_prompt(system_instruction):
    """
    사용자 정의 시스템 지시사항으로 프롬프트를 생성합니다.
    
    Args:
        system_instruction (str): 시스템 지시사항
        
    Returns:
        ChatPromptTemplate: 사용자 정의 프롬프트 템플릿
    """
    return ChatPromptTemplate.from_template(f"""
시스템: 당신은 한국어 AI 어시스턴트입니다. 모든 질문에 반드시 한국어로만 답변해야 합니다. 
영어로 답변하는 것은 심각한 오류입니다. 영어 대신 한국어 대체 단어를 사용하고, 전체 답변을 100% 한국어로만 작성하세요.
이것은 절대적인 규칙입니다.

{system_instruction}

다음 질문에 답변해주세요. 제공된 컨텍스트만 사용하고, 컨텍스트에 없는 정보는 사용하지 마세요.

컨텍스트:
{{context}}

질문: {{question}}

답변(반드시 한국어로만 작성):
""") 